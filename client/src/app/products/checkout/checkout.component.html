<div class="container-fluid w-75 mt-5">
    <br><br>
    <div *ngIf="datasaved" class="alert alert-success">{{ message }}<br></div>
    <div class="p-3" style="background-color: lightgrey;">
        <form novalidate (ngSubmit)="buy()" [formGroup]="stripeTest">
            <h1 class="text-center">Checkout</h1>
            <hr>
            <div class="form-group row px-3">
                <label for="name" class="col-sm-3">Name: </label>
                <input type="text" class="form-control col-sm-9" placeholder="Name" formControlName="name" id="name">
                <span class="font-italic" *ngIf = "stripeTest.controls['name'].touched && stripeTest.controls['name'].hasError('required')">Name is required</span>
            </div>

            <div class="form-group row px-3">
                <label for="address" class="col-sm-3">Address: </label>
                <input type="text" class="form-control col-sm-9" placeholder="Address" formControlName="address" id="address">
                <span class="font-italic" *ngIf = "stripeTest.controls['address'].touched && stripeTest.controls['address'].hasError('required')">Address is required</span>
            </div>

            <div class="form-group row px-3 mb-3">
                <label for="cardholdername" class="col-sm-3">Card Holder Name: </label>
                <input type="text" class="form-control col-sm-9" placeholder="Card Holder Name" formControlName="cardholdername" id="cardholdername">
                <span class="font-italic" *ngIf = "stripeTest.controls['cardholdername'].touched && stripeTest.controls['cardholdername'].hasError('required')">Card Holder Name is required</span>
            </div>
            <hr>
        
            <div id="card-element" class="field px-3 mb-3"></div>
            <hr>

            <button type="submit" class="btn btn-warning mt-3" [disabled]="stripeTest.invalid || paymentDisabled">
            Pay ${{ totalPrice | async }}
            </button>
        </form>
    </div>
</div>

